document.addEventListener("DOMContentLoaded",function(){"use strict";gsap.registerPlugin(ScrollTrigger);var timeline=gsap.timeline();timeline.to(".mil-preloader-content",{ease:"sine",y:0,duration:.4,scale:1,opacity:1,delay:".1"});timeline.to(".mil-preloader-content",{ease:"sine",y:"-200",duration:.4,scale:.6,opacity:0,delay:"0.1"});timeline.to(".mil-preloader-frame",{ease:"sine",duration:.4,height:0,onComplete:function(){document.documentElement.classList.remove("is-animating")}});gsap.to(".mil-progress",{height:"100%",ease:"linear",scrollTrigger:{scrub:1}});var scene=document.getElementById("scene");if(scene){var parallaxInstance=new Parallax(scene,{limitY:15})}document.addEventListener("click",function(event){if(event.target.matches('a[href^="#"]')||event.target.closest('a[href^="#"]')){const link=event.target.matches('a[href^="#"]')?event.target:event.target.closest('a[href^="#"]');event.preventDefault();const targetId=link.getAttribute("href");if(targetId==="#")return;const target=document.querySelector(targetId);if(target){const offset=90;const elementPosition=target.getBoundingClientRect().top;const offsetPosition=elementPosition+window.scrollY-offset;window.scrollTo({top:offsetPosition,behavior:"smooth"})}}});const btt=document.querySelector(".mil-back-to-top .mil-link");if(btt){gsap.set(btt,{opacity:.5});gsap.to(btt,{opacity:1,ease:"sine",scrollTrigger:{trigger:"body",start:"top -20%",end:"top -20%",toggleActions:"play none reverse none"}})}const appearance=document.querySelectorAll(".mil-up");appearance.forEach(section=>{gsap.fromTo(section,{opacity:0,y:50,ease:"sine"},{y:0,opacity:1,scrollTrigger:{trigger:section,toggleActions:"play none none reverse"}})});const rotate=document.querySelectorAll(".mil-rotate");rotate.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{ease:"sine",rotate:0},{rotate:value,scrollTrigger:{trigger:section,scrub:true,toggleActions:"play none none reverse"}})});const progGo=document.querySelectorAll(".mil-circular-progress");progGo.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{"--p":"0",ease:"sine"},{"--p":value,duration:1,scrollTrigger:{trigger:section,toggleActions:"play none none reverse"}})});const number=document.querySelectorAll(".mil-counter");number.forEach(function(element){var count=element;var zero={val:0};var num=parseFloat(count.dataset.number);var split=(num+"").split(".");var decimals=split.length>1?split[1].length:0;gsap.to(zero,{val:num,duration:2,scrollTrigger:{trigger:element,toggleActions:"play none none reverse"},onUpdate:function(){count.textContent=zero.val.toFixed(decimals)}})});const width=document.querySelectorAll(".mil-bar");width.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{width:0,duration:5e3,ease:"sine"},{width:value,scrollTrigger:{trigger:section,toggleClass:"mil-active",toggleActions:"play none none reverse"}})});const menuBtn=document.querySelector(".mil-menu-btn");const navigation=document.querySelector(".mil-navigation");if(menuBtn){menuBtn.addEventListener("click",function(){this.classList.toggle("mil-active");if(navigation)navigation.classList.toggle("mil-active")})}var swiper=new Swiper(".mil-reviews-slider",{spaceBetween:30,speed:800,parallax:true,navigation:{nextEl:".mil-reviews-next",prevEl:".mil-reviews-prev"},pagination:{el:".swiper-reviews-pagination",clickable:true}});var swiper=new Swiper(".mil-portfolio-carousel",{spaceBetween:30,speed:800,parallax:true,mousewheel:{enable:true},navigation:{nextEl:".mil-portfolio-next",prevEl:".mil-portfolio-prev"},pagination:{el:".mil-portfolio-pagination",type:"fraction"},breakpoints:{1200:{spaceBetween:90}}});let groups=gsap.utils.toArray(".mil-accordion-group");let menus=gsap.utils.toArray(".mil-accordion-menu");let menuToggles=groups.map(createAnimation);menus.forEach(menu=>{menu.addEventListener("click",()=>toggleMenu(menu))});function toggleMenu(clickedMenu){menuToggles.forEach(toggleFn=>toggleFn(clickedMenu))}function createAnimation(element){let menu=element.querySelector(".mil-accordion-menu");let title=element.querySelector(".mil-accordion-menu h6");let box=element.querySelector(".mil-accordion-content");let minusElement=element.querySelector(".mil-minus");let plusElement=element.querySelector(".mil-plus");gsap.set(box,{height:"auto"});let animation=gsap.timeline().from(box,{height:0,duration:.5,ease:"sine"}).from(minusElement,{duration:.2,autoAlpha:0,color:"#BCFF00",ease:"none"},0).to(plusElement,{duration:.2,autoAlpha:0,ease:"none"},0).from(title,{color:"#fff",duration:.2,ease:"sine"},0).to(title,{duration:.2,color:"#BCFF00",ease:"sine"},0).reverse();return function(clickedMenu){if(clickedMenu===menu){animation.reversed(!animation.reversed())}else{animation.reverse()}}}document.addEventListener("swup:contentReplaced",function(){const nav=document.querySelector(".mil-navigation");const mBtn=document.querySelector(".mil-menu-btn");if(nav)nav.classList.remove("mil-active");if(mBtn)mBtn.classList.remove("mil-active");window.scrollTo({top:0});ScrollTrigger.refresh();const btt=document.querySelector(".mil-back-to-top .mil-link");if(btt){gsap.set(btt,{opacity:.5});gsap.to(btt,{opacity:1,ease:"sine",scrollTrigger:{trigger:"body",start:"top -20%",end:"top -20%",toggleActions:"play none reverse none"}})}const appearance=document.querySelectorAll(".mil-up");appearance.forEach(section=>{gsap.fromTo(section,{opacity:0,y:50,ease:"sine"},{y:0,opacity:1,scrollTrigger:{trigger:section,toggleActions:"play none none reverse"}})});const rotate=document.querySelectorAll(".mil-rotate");rotate.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{ease:"sine",rotate:0},{rotate:value,scrollTrigger:{trigger:section,scrub:true,toggleActions:"play none none reverse"}})});const progGo=document.querySelectorAll(".mil-circular-progress");progGo.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{"--p":"0",ease:"sine"},{"--p":value,duration:1,scrollTrigger:{trigger:section,toggleActions:"play none none reverse"}})});const number=document.querySelectorAll(".mil-counter");number.forEach(function(element){var count=element;var zero={val:0};var num=parseFloat(count.dataset.number);var split=(num+"").split(".");var decimals=split.length>1?split[1].length:0;gsap.to(zero,{val:num,duration:2,scrollTrigger:{trigger:element,toggleActions:"play none none reverse"},onUpdate:function(){count.textContent=zero.val.toFixed(decimals)}})});const width=document.querySelectorAll(".mil-bar");width.forEach(section=>{var value=section.dataset.value;gsap.fromTo(section,{width:0,duration:5e3,ease:"sine"},{width:value,scrollTrigger:{trigger:section,toggleClass:"mil-active",toggleActions:"play none none reverse"}})});var swiper=new Swiper(".mil-reviews-slider",{spaceBetween:30,speed:800,parallax:true,navigation:{nextEl:".mil-reviews-next",prevEl:".mil-reviews-prev"},pagination:{el:".swiper-reviews-pagination",clickable:true}});var swiper=new Swiper(".mil-portfolio-carousel",{spaceBetween:90,speed:800,parallax:true,mousewheel:{enable:true},navigation:{nextEl:".mil-portfolio-next",prevEl:".mil-portfolio-prev"},pagination:{el:".mil-portfolio-pagination",type:"fraction"}});let groups=gsap.utils.toArray(".mil-accordion-group");let menus=gsap.utils.toArray(".mil-accordion-menu");let menuToggles=groups.map(createAnimation);menus.forEach(menu=>{menu.addEventListener("click",()=>toggleMenu(menu))});function toggleMenu(clickedMenu){menuToggles.forEach(toggleFn=>toggleFn(clickedMenu))}function createAnimation(element){let menu=element.querySelector(".mil-accordion-menu");let title=element.querySelector(".mil-accordion-menu h6");let box=element.querySelector(".mil-accordion-content");let minusElement=element.querySelector(".mil-minus");let plusElement=element.querySelector(".mil-plus");gsap.set(box,{height:"auto"});let animation=gsap.timeline().from(box,{height:0,duration:.5,ease:"sine"}).from(minusElement,{duration:.2,autoAlpha:0,ease:"none"},0).to(plusElement,{duration:.2,autoAlpha:0,ease:"none"},0).from(title,{duration:.2,ease:"sine"},0).to(title,{duration:.2,ease:"sine"},0).reverse();return function(clickedMenu){if(clickedMenu===menu){animation.reversed(!animation.reversed())}else{animation.reverse()}}}})});